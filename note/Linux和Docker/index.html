<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ubuntu server | yinxk个人笔记</title>
    <meta name="description" content="看起来简单的事情也不一定容易">
    <link rel="icon" href="/CPU.ico">
    
    <link rel="preload" href="/assets/css/0.styles.720783aa.css" as="style"><link rel="preload" href="/assets/js/app.bec4f8e0.js" as="script"><link rel="preload" href="/assets/js/2.368a152a.js" as="script"><link rel="preload" href="/assets/js/5.933efb93.js" as="script"><link rel="prefetch" href="/assets/js/10.4feb1f81.js"><link rel="prefetch" href="/assets/js/11.31115f7e.js"><link rel="prefetch" href="/assets/js/12.f9ba16fd.js"><link rel="prefetch" href="/assets/js/13.0506e180.js"><link rel="prefetch" href="/assets/js/14.b178f129.js"><link rel="prefetch" href="/assets/js/15.d6c70af9.js"><link rel="prefetch" href="/assets/js/16.26eba813.js"><link rel="prefetch" href="/assets/js/17.6a9ed02f.js"><link rel="prefetch" href="/assets/js/18.2689df74.js"><link rel="prefetch" href="/assets/js/19.6a73c842.js"><link rel="prefetch" href="/assets/js/3.ed641086.js"><link rel="prefetch" href="/assets/js/4.aebc78b4.js"><link rel="prefetch" href="/assets/js/6.6cded3ac.js"><link rel="prefetch" href="/assets/js/7.783442cf.js"><link rel="prefetch" href="/assets/js/8.6a5a6732.js"><link rel="prefetch" href="/assets/js/9.3ab66bb4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.720783aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">yinxk个人笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>虚拟化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/Linux和Docker/" class="nav-link">Linux和Docker相关</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>文本</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tool/Markdown/" class="nav-link">Markdown</a></li><li class="dropdown-subitem"><a href="/tool/test/" class="nav-link">测试</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/yinxk" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>虚拟化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/Linux和Docker/" class="nav-link">Linux和Docker相关</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>文本</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tool/Markdown/" class="nav-link">Markdown</a></li><li class="dropdown-subitem"><a href="/tool/test/" class="nav-link">测试</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/yinxk" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ubuntu server</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/note/Linux%E5%92%8CDocker/#ubuntu-server-18-04及以上配置静态地址" class="sidebar-link">ubuntu server 18.04及以上配置静态地址</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/Linux%E5%92%8CDocker/#ubuntu安装后root账号设置" class="sidebar-link">ubuntu安装后root账号设置</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/Linux%E5%92%8CDocker/#ubuntu-server启用root远程登录" class="sidebar-link">ubuntu server启用root远程登录</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h2 id="ubuntu-server-18-04及以上配置静态地址"><a href="#ubuntu-server-18-04及以上配置静态地址" aria-hidden="true" class="header-anchor">#</a> ubuntu server 18.04及以上配置静态地址</h2> <p>参考文档: <a href="https://www.cnblogs.com/dotnetcrazy/p/9694699.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/dotnetcrazy/p/9694699.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>传统的配置/etc/network/interfaces已无用<br>
新方法, 修改: <code>/etc/netplan/50-cloud-init.yaml</code></p> <p><img src="/assets/img/img1.49c3a00f.png" alt="配置静态地址"></p> <p>配置如下:</p> <div class="language- extra-class"><pre class="language-text"><code>network:
    ethernets:
        ens33:
                addresses: [192.168.101.12/24]
                gateway4: 192.168.101.2
                nameservers:
                        addresses: [192.168.101.2]
    version: 2
</code></pre></div><p>重启网络 <code>sudo netplan apply</code></p> <h2 id="ubuntu安装后root账号设置"><a href="#ubuntu安装后root账号设置" aria-hidden="true" class="header-anchor">#</a> ubuntu安装后root账号设置</h2> <p>参考文档: <a href="https://www.cnblogs.com/yuejin/p/3645294.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/yuejin/p/3645294.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>ubuntu安装好后，root初始密码（默认密码）不知道，需要设置。</p> <ol><li><p>先用安装时候的用户登录进入系统</p></li> <li><p>输入：sudo passwd  按回车</p></li> <li><p>输入新密码，重复输入密码，最后提示passwd：password updated sucessfully,
此时已完成root密码的设置</p></li> <li><p>输入：su root</p></li></ol> <h2 id="ubuntu-server启用root远程登录"><a href="#ubuntu-server启用root远程登录" aria-hidden="true" class="header-anchor">#</a> ubuntu server启用root远程登录</h2> <p>参考文档: <a href="https://www.cnblogs.com/ajianbeyourself/p/4220274.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/ajianbeyourself/p/4220274.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ol><li><p>修改<code>/etc/ssh/sshd_config</code></p></li> <li><p>找到PermitRootLogin 一行，改为PermitRootLogin yes，即允许root用户以任何认证方式登录</p> <p>OK，这里我们也顺便学习一下PermitRootLogin这个参数，它的值可以为yes/no/without-password，含义如下</p> <div class="language- extra-class"><pre class="language-text"><code>PermitRootLogin yes                   #允许root用户以任何认证方式登录（貌似也就两种认证方式：用户名密码认证，公钥认证）

PermitRootLogin without-password      #只允许root用public key认证方式登录

PermitRootLogin no                    #不允许root用户以任何认证方式登录
</code></pre></div></li> <li><p>重启 openssh server<br> <code>sudo service ssh restart</code></p></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2019-08-17</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bec4f8e0.js" defer></script><script src="/assets/js/2.368a152a.js" defer></script><script src="/assets/js/5.933efb93.js" defer></script>
  </body>
</html>
